<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plataforma de Compras Style SAP Preview</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    body {
      font-family: "72", "Arial", sans-serif;
      background-color: var(--background);
      color: var(--text);
      margin: 0;
      padding: 0;
    }

    :root {
      --background: #f2f3f4;
      --tile-background: #fff;
      --tile-border: #ccc;
      --text: #000;
      --navbar-bg: #ffffff;
      --navbar-border: #ddd;
    }

    .dark-mode {
      --background: #1a1a1a;
      --tile-background: #2a2a2a;
      --tile-border: #444;
      --text: #f2f2f2;
      --navbar-bg: #121212;
      --navbar-border: #333;
    }

    .navbar-custom {
      background-color: var(--navbar-bg);
      border-bottom: 1px solid var(--navbar-border);
      padding: 0.5rem 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      height: 5vh;
    }

    .navbar-custom h4 {
      margin: 0;
      font-size: 1.25rem;
    }

    .category-bar {
      display: flex;
      gap: 1rem;
      overflow-x: auto;
      padding: 1rem;
      background-color: var(--navbar-bg);
      border-bottom: 1px solid var(--navbar-border);
      position: sticky;
      top: 5vh;
      z-index: 999;
    }

    .category-bar button {
      white-space: nowrap;
    }

    .category-section {
      padding: 2rem;
    }

    .tile-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 1rem;
    }

    .tile {
      background-color: var(--tile-background);
      border: 1px solid var(--tile-border);
      border-radius: 20px;
      padding: 1rem;
      aspect-ratio: 1 / 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: background-color 0.3s, border-color 0.3s;
      cursor: pointer;
    }

    .tile:hover {
      background-color: rgba(0, 123, 255, 0.1);
      border-color: #007bff;
    }

    .tile-title {
      font-size: 1rem;
      font-weight: bold;
    }

    .tile-subtitle {
      font-size: 0.85rem;
      opacity: 0.8;
    }

    .tile-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.8rem;
      color: var(--text);
    }

    .tile-footer i {
      font-size: 1.2rem;
    }

    .spacer {
      height: 800px;
    }
    .logo-anasac {
      height: 24px;
      margin-right: 8px;
      vertical-align: middle;
    }

    :root .logo-anasac {
      filter: invert(100%);
    }
    .dark-mode .logo-anasac {
      filter: invert(0%);
    }
  </style>
</head>
<body>
  <div class="navbar-custom">
    <h4>
      <img src="{{ url_for('inicio.static', filename='img/logo_anasac.png') }}" alt="Anasac" class="logo-anasac">
      <span id="page-title">PÃ¡gina de inicio</span>
    </h4>
    <div class="dropdown">
      <button class="btn btn-sm bg-transparent border-0 dropdown-toggle d-flex align-items-center" type="button" data-bs-toggle="dropdown" aria-expanded="false" style="color: var(--text);">
        <i class="material-icons">account_circle</i>
      </button>
      <ul class="dropdown-menu dropdown-menu-end" style="background-color: var(--tile-background); color: var(--text);">
        <li class="dropdown-header px-3" id="user-label">Usuario: <strong>Freddy Ramirez</strong></li>
        <li class="px-3 py-2 d-flex align-items-center justify-content-between">
          <span id="dark-label">Modo oscuro</span>
          <div class="form-check form-switch m-0">
            <input class="form-check-input" type="checkbox" id="darkSwitch" onchange="handleDarkSwitch(this)">
          </div>
        </li>
        <li>
          <select id="langSelect" class="form-select form-select-sm w-auto ms-2">
            <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
            <option value="en">ğŸ‡¬ğŸ‡§ English</option>
			<option value="pt">ğŸ‡§ğŸ‡· PortuguÃªs</option>
            <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
          </select>
        </li>
      </ul>
    </div>
  </div>

  <div class="category-bar" id="categoryBar"></div>
  <div id="mainContent"></div>
  <div class="spacer"></div>

  <script>
	const traducciones = {
	es: {
		inicio: "PÃ¡gina de inicio",
		usuario: "Usuario",
		modo_oscuro: "Modo oscuro",
		categorias: {
		"FI - Cierre CO": "FI - Cierre CO",
		"FI - Cierre Mensual": "FI - Cierre Mensual",
		"FI - ConciliaciÃ³n Bancaria": "FI - ConciliaciÃ³n Bancaria",
		"FI - Datos Maestros": "FI - Datos Maestros"
		}
	},
	en: {
		inicio: "Home Page",
		usuario: "User",
		modo_oscuro: "Dark Mode",
		categorias: {
		"FI - Cierre CO": "FI - CO Closing",
		"FI - Cierre Mensual": "FI - Monthly Closing",
		"FI - ConciliaciÃ³n Bancaria": "FI - Bank Reconciliation",
		"FI - Datos Maestros": "FI - Master Data"
		}
	},
	zh: {
		inicio: "é¦–é¡µ",
		usuario: "ç”¨æˆ·",
		modo_oscuro: "æ·±è‰²æ¨¡å¼",
		categorias: {
		"FI - Cierre CO": "FI - COç»“è´¦",
		"FI - Cierre Mensual": "FI - æœˆç»“",
		"FI - ConciliaciÃ³n Bancaria": "FI - é“¶è¡Œå¯¹è´¦",
		"FI - Datos Maestros": "FI - ä¸»æ•°æ®"
		}
	},
	pt: {
		inicio: "PÃ¡gina inicial",
		usuario: "UsuÃ¡rio",
		modo_oscuro: "Modo escuro",
		categorias: {
		"FI - Cierre CO": "FI - Fechamento CO",
		"FI - Cierre Mensual": "FI - Fechamento Mensal",
		"FI - ConciliaciÃ³n Bancaria": "FI - ConciliaÃ§Ã£o BancÃ¡ria",
		"FI - Datos Maestros": "FI - Dados Mestres"
		}
	}
	};

	const data = {
		"FI - Cierre CO": [
			{
				title: {
					es: "IntroducciÃ³n de valores estadÃ­sticos",
					en: "Enter statistical values",
					zh: "è¾“å…¥ç»Ÿè®¡å€¼",
					pt: "IntroduÃ§Ã£o de valores estatÃ­sticos"
				},
				subtitle: {
					es: "Centros de coste - Real",
					en: "Cost centers - Actual",
					zh: "æˆæœ¬ä¸­å¿ƒ - å®é™…",
					pt: "Centros de custo - Real"
				},
				icon: "insights",
				code: "KSV1"
			},
			{
				title: {
					es: "Gestionar tipos de actividad",
					en: "Manage activity types",
					zh: "ç®¡ç†æ´»åŠ¨ç±»å‹",
					pt: "Gerenciar tipos de atividade"
				},
				subtitle: {
					es: "Tipos de actividad",
					en: "Activity types",
					zh: "æ´»åŠ¨ç±»å‹",
					pt: "Tipos de atividade"
				},
				icon: "category",
				code: "KSB1"
			},
			{
				title: {
					es: "GestiÃ³n de Ã³rdenes internas",
					en: "Internal order management",
					zh: "å†…éƒ¨è®¢å•ç®¡ç†",
					pt: "GestÃ£o de ordens internas"
				},
				subtitle: {
					es: "Cost center tracking",
					en: "Cost center tracking",
					zh: "æˆæœ¬ä¸­å¿ƒè·Ÿè¸ª",
					pt: "Rastreamento de centro de custo"
				},
				icon: "assignment",
				code: "KO03"
			},
			{
				title: {
					es: "Tratar ciclos de asignaciÃ³n de gastos",
					en: "Process cost allocation cycles",
					zh: "å¤„ç†è´¹ç”¨åˆ†é…å‘¨æœŸ",
					pt: "Tratar ciclos de alocaÃ§Ã£o de custos"
				},
				subtitle: {
					es: "AsignaciÃ³n entre centros",
					en: "Inter-center allocation",
					zh: "ä¸­å¿ƒé—´åˆ†é…",
					pt: "AlocaÃ§Ã£o entre centros"
				},
				icon: "sync_alt",
				code: "KSU1"
			},
			{
				title: {
					es: "Ejecutar subreparto plan",
					en: "Execute planned secondary cost allocation",
					zh: "æ‰§è¡Œè®¡åˆ’äºŒçº§æˆæœ¬åˆ†é…",
					pt: "Executar rateio planejado"
				},
				subtitle: {
					es: "Plan operativo",
					en: "Operational plan",
					zh: "è¿è¥è®¡åˆ’",
					pt: "Plano operacional"
				},
				icon: "engineering",
				code: "KSUB"
			}
		],
		"FI - Cierre Mensual": [
			{
				title: {
					es: "Visualizar posiciones de objeto",
					en: "View object positions",
					zh: "æŸ¥çœ‹å¯¹è±¡å¤´å¯¸",
					pt: "Visualizar posiÃ§Ãµes de objeto"
				},
				subtitle: {
					es: "PeriodificaciÃ³n",
					en: "Accruals",
					zh: "æ‘Šé”€/åº”è®¡",
					pt: "AcrÃ©scimos"
				},
				icon: "event",
				code: "F.07"
			},
			{
				title: {
					es: "Arrastre de saldos cuenta corriente",
					en: "Carry forward balances",
					zh: "ç»“è½¬è´¦æˆ·ä½™é¢",
					pt: "TransferÃªncia de saldos da conta corrente"
				},
				subtitle: {
					es: "Cierre mensual",
					en: "Monthly closing",
					zh: "æœˆç»“",
					pt: "Fechamento mensal"
				},
				icon: "account_balance",
				code: "F.52"
			},
			{
				title: {
					es: "RevalorizaciÃ³n de precio",
					en: "Price revaluation",
					zh: "ä»·æ ¼é‡ä¼°",
					pt: "ReavaliaÃ§Ã£o de preÃ§o"
				},
				subtitle: {
					es: "Centros de coste",
					en: "Cost centers",
					zh: "æˆæœ¬ä¸­å¿ƒ",
					pt: "Centros de custo"
				},
				icon: "trending_up",
				code: "KSBP"
			},
			{
				title: {
					es: "Reparto real",
					en: "Actual distribution",
					zh: "å®é™…åˆ†é…",
					pt: "DistribuiÃ§Ã£o real"
				},
				subtitle: {
					es: "DistribuciÃ³n automÃ¡tica",
					en: "Automatic distribution",
					zh: "è‡ªåŠ¨åˆ†é…",
					pt: "DistribuiÃ§Ã£o automÃ¡tica"
				},
				icon: "autorenew",
				code: "KSU5"
			},
			{
				title: {
					es: "Subreparto real",
					en: "Actual secondary distribution",
					zh: "å®é™…äºŒçº§åˆ†é…",
					pt: "Rateio secundÃ¡rio real"
				},
				subtitle: {
					es: "ReasignaciÃ³n de costos",
					en: "Cost reassignment",
					zh: "æˆæœ¬é‡æ–°åˆ†é…",
					pt: "ReatribuiÃ§Ã£o de custos"
				},
				icon: "upload",
				code: "KSUB"
			}
		],
		"FI - ConciliaciÃ³n Bancaria": [
			{
				title: {
					es: "Registrar conciliaciones",
					en: "Register reconciliations",
					zh: "ç™»è®°å¯¹è´¦",
					pt: "Registrar conciliaÃ§Ãµes"
				},
				subtitle: {
					es: "Flujo bancario diario",
					en: "Daily bank flow",
					zh: "æ¯æ—¥é“¶è¡Œæµç¨‹",
					pt: "Fluxo bancÃ¡rio diÃ¡rio"
				},
				icon: "account_balance_wallet",
				code: "FF67"
			},
			{
				title: {
					es: "Revisar partidas abiertas",
					en: "Review open items",
					zh: "å®¡æŸ¥æœªæ¸…é¡¹ç›®",
					pt: "Revisar itens em aberto"
				},
				subtitle: {
					es: "Cuentas por pagar",
					en: "Accounts payable",
					zh: "åº”ä»˜è´¦æ¬¾",
					pt: "Contas a pagar"
				},
				icon: "receipt",
				code: "FBL1N"
			},
			{
				title: {
					es: "Revisar partidas clientes",
					en: "Review customer items",
					zh: "å®¡æŸ¥å®¢æˆ·é¡¹ç›®",
					pt: "Revisar itens de cliente"
				},
				subtitle: {
					es: "Cuentas por cobrar",
					en: "Accounts receivable",
					zh: "åº”æ”¶è´¦æ¬¾",
					pt: "Contas a receber"
				},
				icon: "receipt_long",
				code: "FBL5N"
			}
		],
		"FI - Datos Maestros": [
			{
				title: {
					es: "Crear centro de coste",
					en: "Create cost center",
					zh: "åˆ›å»ºæˆæœ¬ä¸­å¿ƒ",
					pt: "Criar centro de custo"
				},
				subtitle: {
					es: "Estructura organizacional",
					en: "Organizational structure",
					zh: "ç»„ç»‡ç»“æ„",
					pt: "Estrutura organizacional"
				},
				icon: "business",
				code: "KS01"
			},
			{
				title: {
					es: "Modificar clase de costo",
					en: "Modify cost element",
					zh: "ä¿®æ”¹æˆæœ¬è¦ç´ ",
					pt: "Modificar classe de custo"
				},
				subtitle: {
					es: "ParÃ¡metros FI",
					en: "FI parameters",
					zh: "è´¢åŠ¡å‚æ•°",
					pt: "ParÃ¢metros FI"
				},
				icon: "work",
				code: "KA02"
			}
		]
	};

    const categoryBar = document.getElementById("categoryBar");
    const mainContent = document.getElementById("mainContent");

    function aplicarTraduccion(lang) {
		const t = traducciones[lang];

		// Cambiar tÃ­tulo de pÃ¡gina
		document.querySelector("#page-title").textContent = t.inicio;

		// Usuario
		document.querySelector(".dropdown-header").innerHTML = `${t.usuario}: <strong>Freddy Ramirez</strong>`;

		// Modo oscuro
		document.querySelector(".dropdown-menu span").textContent = t.modo_oscuro;

		// Limpiar categorÃ­as actuales
		categoryBar.innerHTML = "";
		mainContent.innerHTML = "";

		Object.keys(data).forEach(categoryKey => {
			const translatedCategory = t.categorias[categoryKey];

			// BotÃ³n en barra de categorÃ­as
			const btn = document.createElement("button");
			btn.className = "btn btn-outline-secondary btn-sm";
			btn.innerText = translatedCategory;
			btn.onclick = () => {
			const offset = 112;
			const el = document.getElementById(categoryKey);
			const y = el.getBoundingClientRect().top + window.scrollY - offset;
			window.scrollTo({ top: y, behavior: 'smooth' });
			};
			categoryBar.appendChild(btn);

			// SecciÃ³n de categorÃ­a
			const section = document.createElement("div");
			section.className = "category-section";
			section.id = categoryKey;
			const header = document.createElement("h5");
			header.textContent = translatedCategory;
			section.appendChild(header);

			const container = document.createElement("div");
			container.className = "tile-container";

			data[categoryKey].forEach(tile => {
			const div = document.createElement("div");
			div.className = "tile";
			div.innerHTML = `
				<div>
				<div class="tile-title">${tile.title[lang]}</div>
				<div class="tile-subtitle">${tile.subtitle[lang]}</div>
				</div>
				<div class="tile-footer">
				<i class="material-icons" style="font-size: 2rem;">${tile.icon}</i>
				<span>${tile.code}</span>
				</div>
			`;
			container.appendChild(div);
			});

			section.appendChild(container);
			mainContent.appendChild(section);
		});
	}

    function handleDarkSwitch(input) {
      const isDark = input.checked;
      document.body.classList.toggle("dark-mode", isDark);
      localStorage.setItem("preferred-theme", isDark ? "dark" : "light");
    }

    document.addEventListener("DOMContentLoaded", () => {
		// Idioma
		const savedLang = localStorage.getItem("preferred-lang") || "es";
		document.getElementById("langSelect").value = savedLang;
		aplicarTraduccion(savedLang);

		// Tema oscuro
		const preferredTheme = localStorage.getItem("preferred-theme");
		if (preferredTheme === "dark") {
			document.body.classList.add("dark-mode");
		} else {
			document.body.classList.remove("dark-mode");
		}

		// Sincronizar switch con el estado del tema
		const switchInput = document.getElementById("darkSwitch");
		if (switchInput) {
			switchInput.checked = preferredTheme === "dark";
		}

		// Listener de cambio de idioma
		document.getElementById("langSelect").addEventListener("change", (e) => {
			const lang = e.target.value;
			localStorage.setItem("preferred-lang", lang);
			aplicarTraduccion(lang);
		});
	});
  </script>
</body>
</html>
